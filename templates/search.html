{% extends "base.html" %}

{% block content %}
  <div class="card">
    <h2>Search Items</h2>
    <form method="post">
      <div class="form-group">
        <label for="query">Search keyword (name, location, description)</label>
        <input
          type="text"
          name="query"
          id="query"
          value="{{ query | default('') }}"
          placeholder="Enter a keyword..."
          required
        />
      </div>

      <div class="form-actions">
        <button type="submit">Search</button>
      </div>
    </form>
  </div>

  <div class="card">
    <h3>Results</h3>

    <h4>Lost Items</h4>
    {% if results and results.lost %}
      <table>
        <thead>
          <tr>
            <th>Item</th>
            <th>Location</th>
            <th>Status</th>
            <th>Contact</th>
          </tr>
        </thead>
        <tbody>
          {% for e in results.lost %}
            <tr>
              <td>{{ e.item }}</td>
              <td>{{ e.location }}</td>
              <td>{{ e.status }}</td>
              <td>{{ e.contact or '-' }}</td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    {% else %}
      <p class="small">No lost items match your query.</p>
    {% endif %}

    <h4>Found Items</h4>
    {% if results and results.found %}
      <table>
        <thead>
          <tr>
            <th>Item</th>
            <th>Location</th>
            <th>Status</th>
            <th>Contact</th>
          </tr>
        </thead>
        <tbody>
          {% for e in results.found %}
            <tr>
              <td>{{ e.item }}</td>
              <td>{{ e.location }}</td>
              <td>{{ e.status }}</td>
              <td>{{ e.contact or '-' }}</td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    {% else %}
      <p class="small">No found items match your query.</p>
    {% endif %}
  </div>
{% endblock %}
